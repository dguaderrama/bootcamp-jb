
<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7 ie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8 ie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9 ie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Census Exercise</title>
	<meta name="author" content="">
	
	<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src='/bootcamp/assets/js/jquery.hoverIntent.js'></script>
  <script src='/bootcamp/assets/js/bootcamp.js'></script>  	
	<link href='/bootcamp/assets/themes/the-minimum/css/style.css' rel="stylesheet" media="all">
	<link href="http://feeds.feedburner.com/" rel="alternate" title="Census Exercise" type="application/atom+xml">
	<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.0.6/modernizr.min.js"></script>
  <link href="http://fonts.googleapis.com/css?family=League+Gothic:400,700" rel='stylesheet' type='text/css'>	
  <link href="http://fonts.googleapis.com/css?family=Libre+Baskerville" rel='stylesheet' type='text/css'>	
  <link href="http://fonts.googleapis.com/css?family=Slabo+13px" rel='stylesheet' type='text/css'>	
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

</head>
<body>

<div class="page-container">


<!-- post (.md) content -->
<div id="page" class="hentry">
	<header class="the-header">
		<div class="unit-head">
			<div class="unit-inner unit-head-inner">
				<p class="logo"><a href="/bootcamp/">Spatial Data Carpentry</a></p>
				<nav class="nav-global">
					<ul>
            <li class="home"><a href="/bootcamp/index.html">Home</a></li>
            <li class="about"><a href="/bootcamp/about.html">About Us</a></li>
					</ul>
				</nav>
			</div><!-- unit-inner -->
		</div><!-- unit-head -->
	</header>
	<div class="body" role="main">
		<div class="unit-body">
			<div class="unit-inner unit-body-inner">
				<div class="entry-content">
					
            <div class="dropdown-nav">
              <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Table of Contents<span class="caret"></span></a>
                <ul style="" class="dropdown-menu" role="menu">
                 
                  <h4 id="setup-ref">Setup</h4>
                  <!-- add class="divider" to li in page list-->
                  <ul>
                      
                    




  
    
      
      	
      	<li><a href="/bootcamp/setup/qgis-install">Installing QGIS</a></li>
      	
      
    
  




                  </ul>
                 
                  <h4 id="know the basics-ref">Know the basics</h4>
                  <!-- add class="divider" to li in page list-->
                  <ul>
                      
                    




  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/vector">Vector Data</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/raster">Raster Data</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/projections">Reference Systems</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/qgis-intro">QGIS Overview</a></li>
      	
      
    
  




                  </ul>
                 
                  <h4 id="get the data-ref">Get the data</h4>
                  <!-- add class="divider" to li in page list-->
                  <ul>
                      
                    




  
    
      
      	
      	<li><a href="/bootcamp/get%20the%20data/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/get%20the%20data/metadata">Metadata</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/get%20the%20data/sources">Data Sources</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/get%20the%20data/qgis">Buffer Exercise</a></li>
      	
      
    
  




                  </ul>
                 
                  <h4 id="clean your data-ref">Clean your data</h4>
                  <!-- add class="divider" to li in page list-->
                  <ul>
                      
                    




  
    
      
      	
      	<li><a href="/bootcamp/clean%20your%20data/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/clean%20your%20data/data-cleaning">Data Hygiene</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/clean%20your%20data/formatting">Data Formatting</a></li>
      	
      
    
  
    
      
      	
      	<li class="active"><a href="/bootcamp/clean%20your%20data/joining-census-data" class="active">Census Exercise</a></li>
      	
      
    
  




                  </ul>
                 
                  <h4 id="ask some questions-ref">Ask some questions</h4>
                  <!-- add class="divider" to li in page list-->
                  <ul>
                      
                    




  
    
      
      	
      	<li><a href="/bootcamp/ask%20some%20questions/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/ask%20some%20questions/functions">Spatial Analysis</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/ask%20some%20questions/case-study">Landslide Exercise</a></li>
      	
      
    
  




                  </ul>
                 
                  <h4 id="show your results-ref">Show your results</h4>
                  <!-- add class="divider" to li in page list-->
                  <ul>
                      
                    




  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/fundamentals">Colors & Fonts</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/cartography">Cartography</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/map-types">Map Types</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/web-mapping">Web Mapping</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/hazard">Hazard Map</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/leaflet">Leaflet Exercise</a></li>
      	
      
    
  




                  </ul>
                 
                  <h4 id="more reading-ref">More reading</h4>
                  <!-- add class="divider" to li in page list-->
                  <ul>
                      
                    




  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/citations">Citations</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/grass-gis">GRASS GIS</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/scripts">Scripts</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/panoply">Panoply</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/tools">Tools</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/case-study">Landslide Susceptibility</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/consumable-services">Web Services</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/netcdf">Averaging Rainfall</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/range-modeling">Range Modeling</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/housing-data">Analyzing Housing value data</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/vector-analysis">Vector Analysis</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/spatial-issues">Spatial Issues</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/census">Census Data</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/terrain">Terrain Data</a></li>
      	
      
    
  




                  </ul>
                
                  </ul>
                </li>

              </ul>

            </div><!-- dropdown nav -->
<article class="unit-article layout-post">
	<div class="unit-inner unit-article-inner">
		<div class="content">
			<header id="content-header">
        <div id="header-overlay">
				<div class="unit-head">
					<div class="unit-inner unit-head-inner">
            <h1 class="h2 entry-title">Census Exercise</h1> 
            <!--            <h2 class="h2 entry-title">Supporting tagline</h2> -->



					</div><!-- unit-inner -->
				</div><!-- unit-head -->
      </div>
			</header>

    
      <!--
      <div class="col-md-2 sticky-left-nav">
 
  <h4 id="setup-ref">Setup</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/setup/qgis-install">Installing QGIS</a></li>
      	
      
    
  




  </ul>
 
  <h4 id="know the basics-ref">Know the basics</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/vector">Vector Data</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/raster">Raster Data</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/projections">Reference Systems</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/qgis-intro">QGIS Overview</a></li>
      	
      
    
  




  </ul>
 
  <h4 id="get the data-ref">Get the data</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/get%20the%20data/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/get%20the%20data/metadata">Metadata</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/get%20the%20data/sources">Data Sources</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/get%20the%20data/qgis">Buffer Exercise</a></li>
      	
      
    
  




  </ul>
 
  <h4 id="clean your data-ref">Clean your data</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/clean%20your%20data/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/clean%20your%20data/data-cleaning">Data Hygiene</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/clean%20your%20data/formatting">Data Formatting</a></li>
      	
      
    
  
    
      
      	
      	<li class="active"><a href="/bootcamp/clean%20your%20data/joining-census-data" class="active">Census Exercise</a></li>
      	
      
    
  




  </ul>
 
  <h4 id="ask some questions-ref">Ask some questions</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/ask%20some%20questions/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/ask%20some%20questions/functions">Spatial Analysis</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/ask%20some%20questions/case-study">Landslide Exercise</a></li>
      	
      
    
  




  </ul>
 
  <h4 id="show your results-ref">Show your results</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/fundamentals">Colors & Fonts</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/cartography">Cartography</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/map-types">Map Types</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/web-mapping">Web Mapping</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/hazard">Hazard Map</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/leaflet">Leaflet Exercise</a></li>
      	
      
    
  




  </ul>
 
  <h4 id="more reading-ref">More reading</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/citations">Citations</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/grass-gis">GRASS GIS</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/scripts">Scripts</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/panoply">Panoply</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/tools">Tools</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/case-study">Landslide Susceptibility</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/consumable-services">Web Services</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/netcdf">Averaging Rainfall</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/range-modeling">Range Modeling</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/housing-data">Analyzing Housing value data</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/vector-analysis">Vector Analysis</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/spatial-issues">Spatial Issues</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/census">Census Data</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/terrain">Terrain Data</a></li>
      	
      
    
  




  </ul>


    </div>
    -->
			<div class="bd">

        <!-- sticky left navigation -->
<div id="sticky-anchor" class="sticky-left-nav">
  <div id="sticky" class="sticky-left-nav-inner">
    <h3>Contents</h3>
    
   
  <h4 id="setup-ref">Setup</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/setup/qgis-install">Installing QGIS</a></li>
      	
      
    
  




  </ul>
 
  <h4 id="know the basics-ref">Know the basics</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/vector">Vector Data</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/raster">Raster Data</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/projections">Reference Systems</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/know%20the%20basics/qgis-intro">QGIS Overview</a></li>
      	
      
    
  




  </ul>
 
  <h4 id="get the data-ref">Get the data</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/get%20the%20data/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/get%20the%20data/metadata">Metadata</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/get%20the%20data/sources">Data Sources</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/get%20the%20data/qgis">Buffer Exercise</a></li>
      	
      
    
  




  </ul>
 
  <h4 id="clean your data-ref">Clean your data</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/clean%20your%20data/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/clean%20your%20data/data-cleaning">Data Hygiene</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/clean%20your%20data/formatting">Data Formatting</a></li>
      	
      
    
  
    
      
      	
      	<li class="active"><a href="/bootcamp/clean%20your%20data/joining-census-data" class="active">Census Exercise</a></li>
      	
      
    
  




  </ul>
 
  <h4 id="ask some questions-ref">Ask some questions</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/ask%20some%20questions/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/ask%20some%20questions/functions">Spatial Analysis</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/ask%20some%20questions/case-study">Landslide Exercise</a></li>
      	
      
    
  




  </ul>
 
  <h4 id="show your results-ref">Show your results</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/overview">Overview</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/fundamentals">Colors & Fonts</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/cartography">Cartography</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/map-types">Map Types</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/web-mapping">Web Mapping</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/hazard">Hazard Map</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/show%20your%20results/leaflet">Leaflet Exercise</a></li>
      	
      
    
  




  </ul>
 
  <h4 id="more reading-ref">More reading</h4>
  <ul>
      
    




  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/citations">Citations</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/grass-gis">GRASS GIS</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/scripts">Scripts</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/panoply">Panoply</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/tools">Tools</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/case-study">Landslide Susceptibility</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/consumable-services">Web Services</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/netcdf">Averaging Rainfall</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/range-modeling">Range Modeling</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/housing-data">Analyzing Housing value data</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/vector-analysis">Vector Analysis</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/spatial-issues">Spatial Issues</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/census">Census Data</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/bootcamp/more%20reading/terrain">Terrain Data</a></li>
      	
      
    
  




  </ul>

  </div>  
  <div class="clear"></div>
</div> <!--left-nav -->



<div class="entry-content content">
  
<h5 id="join-census-housing-data-to-tiger-census-tracts"><strong>4. Join Census Housing Data to TIGER Census Tracts</strong></h5>

<ol>
  <li>Import Census Tracts shapefile <strong>tl_2014_53_tract</strong> <img src="/bootcamp/assets/images/qgis/add-vector.png" alt="Spatial Data Carpentry: Census Join - Add vector layer" />.<br />
<img src="/bootcamp/assets/images/census-join/census-join-1.png" alt="Spatial Data Carpentry: Census Join - Washington Census tracts" /></li>
  <li>Rename tl_2014_53_tract to census-tracts <em>Right-click layer &gt; Rename</em>.</li>
  <li>Open the tract <strong>Attribute table</strong> and leave it open: <em>Right-click tract layer &gt; Attribute table</em><br />
<img src="/bootcamp/assets/images/census-join/census-join-2.png" alt="Spatial Data Carpentry: Census Join - Washington tract attributes" /></li>
  <li>If you haven’t yet, download your Census data and return to this step. SEE <em>ENTER EXERCISE NUMBER AND LINK HERE</em><br /></li>
  <li>Navigate to the Census Housing Units directory. You should have a soure_files directory with Census Housing Units, Census Home Values, and Census Tracts zip files and unzipped folders containing data.<br />
<img src="/bootcamp/assets/images/census-join/census-join-3.png" alt="Spatial Data Carpentry: Census Join - Washington Census data" /></li>
  <li><em>Rename ACS_13_5YR_B25001_with_ann.csv to housing-units.csv</em>
<img src="/bootcamp/assets/images/census-join/census-join-4.png" alt="Spaital Data Bootcamp: Census Join - Rename housing data CSV" /></li>
  <li>Open housing-units.csv and inspect the data for columns to use for our joins. HINT: it’s GEOID (tract shapefile) and GEO.id2 (ACS CSVs). We can only join data (tabular join) with <em>exact same</em> columns. The Census provides these columns for this purpose (I’m sure other purposes as well). See the tables below:<br />
<img src="/bootcamp/assets/images/census-join/census-join-5.png" alt="Spatial Data Carpentry: Census Join - Locate similar columns" /></li>
  <li>Remove the second row containing the annotations. Delete the columns: GEO.id, GEO.display-lable, and HD02_VD01. For the purposes of this exercise, we do not need the removed columns. Our objective is to join data and visualize (with minimal data wrangling). In LibreOffice, highlight the row/column, right-click and Delete Selected Columns. Excel should be the same/similar. Command-line users, AWK is an easy solution. It should look like the file below:<br />
<img src="/bootcamp/assets/images/census-join/census-join-6.png" alt="Spatial Data Carpentry: Census Join - Delete housing data annotation" /></li>
  <li>Rename header HD01_VD01 to TotalUnitsHome. Save your document, be sure it’s stored as a Text CSV <img src="/bootcamp/assets/images/census-join/census-join-8.png" alt="Spatial Data Carpentry: Census Join - Save as Text CSV" />. Excel users may have to select Text CSV from a drop-down list (I’ll check back with this). Renaming the headers reduced confusion down the road. Also, notice how there are no spaces in the header name. Removing (or not having) spaces is in the top 10 list of best naming convention practices (on all computer systems.. everywhere in the digital world.. you should never have spaces in your file names or directories). Close the document.<br />
<img src="/bootcamp/assets/images/census-join/census-join-7.png" alt="Spatial Data Carpentry: Census Join - Rename HD01_VD01 to MeanValueHome" /></li>
  <li>Do the same for the Home Values CSV:
    <ul>
      <li>Navigate to document</li>
      <li>Rename ACS_13_5YR_B25077_with_ann.csv to home-values.csv</li>
      <li>Delete second row with annotations</li>
      <li>Delete columns: GEO.id, GEO.display-label, HD02_VD01</li>
      <li>Rename HD01_VD01 to MedianValueHome</li>
      <li>Save your document in Text CSV format <img src="/bootcamp/assets/images/census-join/census-join-8.png" alt="Spatial Data Carpentry: Census Join - Save as Text CSV" /><br />
<img src="/bootcamp/assets/images/census-join/census-join-9.png" alt="Spatial Data Carpentry: Census Join - Wrangle Home Values CSV" /></li>
    </ul>
  </li>
  <li>You’re not quite finished with wrangling your data yet. If you have a quick look at your home-values.csv (it should still be open, Simon didn’t say close!), you’ll notice there are some invalid fields - number fields that contain non-numeric values. Lines 501 and 502 read 1,000,000+ and should be changed to 1000000.<br />
<img src="/bootcamp/assets/images/census-join/census-join-10.png" alt="Spatial Data Carpentry: Census Join - Wrangle Home Values CSV" />
There are some median home value records with ‘-‘ and if you read your metadata you would know that:<br /><br /><em>An ‘-‘ entry in the estimate column indicates that either no sample observations or too few sample observations were available to compute an estimate, or ratio of medians cannot be calculated because of one or both of the median estimates falls in the lowest interval or upper interval of an open-ended distribution.</em><br /><br />Let’s cleanse this now:<br /> LibreOffice and Excel users, <strong>Find and Replace ‘-‘ (without single quotes) with NULL</strong><br />VIM (or similar) users: <strong>%s#-#NULL#g</strong><br /><br />Also, after making these changes the data type of the incorrect records have not changed - they’re still string/text fields in a numeric universe (only in LibreOffice/Excel, however). We will instruct QGIS on how to read the column data types with a .CSVT. Be sure to save your home-values.csv in Text CSV format <img src="/bootcamp/assets/images/census-join/census-join-8.png" alt="Spatial Data Carpentry: Census Join - Save as Text CSV" />.
<img src="/bootcamp/assets/images/census-join/census-join-11.png" alt="Spatial Data Carpentry: Census Join - Wrangle Home Values CSV" /></li>
  <li>Just wait right there, one does not simply join a string (tract’s GEOID) to a number (ACS’s GEO.ids). We now have to create our CSVTs (one for each home-values.csv and housing-units.csv). As a reminder, these indicate to QGIS the data types of each column of repsective CSVs. Our goal here is to join GEOID from tracts (shapefile) to GEO.id2 from home-values.csv and housing-units.csv. Go back into QGIS and open the census-tracts properties and navigate to <strong>Fields</strong>. Locate GEOID in the table and notice its <strong>Type name</strong> - <strong>String</strong>. With less wrangling we can make GEO.id2 a string for joining purposes. Close the properties window. The following steps outline how to create the CSVTs.<br />
<img src="/bootcamp/assets/images/census-join/census-join-12.png" alt="Spatial Data Carpentry: Census Join - Tract field data types" /></li>
  <li>Open a text editr (gedit, VIM, notepad, notepad++) and enter the following row:<br />
“String”,”Real(12.0)”<br />
<img src="/bootcamp/assets/images/census-join/census-join-13.png" alt="Spatial Data Carpentry: Census Join - Creating a CSVT" />
What this means:<br />
There are two columns in this file separated by a common. The first column indicates string and the second is a real number with length of 12 and precision of 0. While preparing this exercise, QGIS didn’t like multiplying integers (Field Calculator results with NULL), so we’re using real number type. 0 precision removes unneccessary zeros after the decimal from real number types, also there are no fractions in the datasets.<br /><br />
    <ul>
      <li>Save this file as <em>home-values.csvt</em> within the <em>same</em> directory as <em>home-values.csv</em><br /><br /></li>
    </ul>
  </li>
  <li>Luckily, we wrangled both CSVs into the same format, so copy <em>home-values.csvt</em> and paste it into the <em>same</em> directory as <em>housing-units.csv</em>. Rename this pasted file as <em>housing-units.csvt</em>. Data types, lengths, and precisions will be the same for both files.<br />
<img src="/bootcamp/assets/images/census-join/census-join-14.png" alt="Spatial Data Carpentry: Census Join - Viewing housing-units.csvt" /></li>
  <li>Import CSVs into QGIS. Don’t move just yet, there a little quirk about importing CSVs with CSVTs into QGIS. You <em>cannot</em> use the <strong>Add Delimited Text Layer</strong> tool, this does not recognize the CSVT precision and length. The best way to import with CSVTs is the ol’ drag-n-drop method (this has only been tested on Ubuntu 14.04 as of yet). Drag-and-drop your housing-units.csv and home-values.csv into QGIS. Don’t touch the associated CSVTs, QGIS reads these during the import process, just <em>don’t</em> move these files. It’s the same concept as shapefiles and the multitude of associates files per one shapefile.<br />
<img src="/bootcamp/assets/images/census-join/census-join-15.png" alt="Spatial Data Carpentry: Census Join - Drag and drop CSVs" /></li>
  <li>Your workspace should look like the image below. Save your workspace now.<br />
<img src="/bootcamp/assets/images/census-join/census-join-16.png" alt="Spatial Data Carpentry: Census Join - Workspace" /></li>
  <li>Now we are able to join our Census tabular data to the tracts shapefile. Join data by opening the <strong>Properties</strong> of the census-tracts layer and navigating to the <strong>Joins</strong> tab.<br />
<img src="/bootcamp/assets/images/census-join/census-join-17.png" alt="Spatial Data Carpentry: Census Join - view tracts properties" /></li>
  <li>Start the first join by clicking the green plus sign <img src="/bootcamp/assets/images/qgis/join-plus.png" alt="Spatial Data Carpentry: Census Join - green plus sign" />. We’re joining home-values and housing-units to census-tracts with:<br /><strong>Join field: GEO.id2<br />Target field: GEOID<br />Cache join layer in virtual memory: (checked)<br />Apply and OK onced both joined</strong><br />
<img src="/bootcamp/assets/images/census-join/census-join-18.png" alt="Spatial Data Carpentry: Census Join - joining data" /></li>
  <li>Open census-tracts <strong>Attribute Table</strong> and locate the MeanValueHome and TotalUnitsHome fields. Notice they’ve been renamed and cut-down. We can still decrypt these headings so we’ll continue on. Close the attributes table.<br />
<img src="/bootcamp/assets/images/census-join/census-join-19.png" alt="Spatial Data Carpentry: Census Join - viewing joined data" /></li>
  <li>You have joined the data but it’s currently being stored in the virtual memory, so we need to save census-tracts (with joined data) as a new shapefile: <em>Right-click shapefile &gt; Save As</em><br />
<strong>Format: ESRI Shapefile<br />
Save as: tracts-values-units (save in your project directory)<br />
Add saved file to map: (checked)</strong><br />
<img src="/bootcamp/assets/images/census-join/census-join-20.png" alt="Spatial Data Carpentry: Census Join - save shapefile" /></li>
  <li>Let’s now calculate total housing value per census tract (TotalUnitsHome X MedianValueHome). 
    <ul>
      <li><strong>Open tracts-value-units attributes table &gt; Toggle editing mode</strong> <img src="/bootcamp/assets/images/qgis/toggle-editing-mode.png" alt="Spatial Data Carpentry: Census Join - toggle edits" /> <strong>&gt; Field Calculator</strong> <img src="/bootcamp/assets/images/qgis/field-calculator.png" alt="Spatial Data Carpentry: Census Join - field calculator" />. </li>
      <li>Configure Field Calculator inputs as follows:<br />
<strong>Create a new field: (checked)</strong><br />
<strong>Output field name: TotalValue</strong><br />
<strong>Output field type: Decimal number (real)</strong><br />
<strong>Output field width: 20</strong><br />
<strong>Precision: 0</strong><br />
<strong>Expression: “home-value” * “housing-un”</strong><br /><br />
<img src="/bootcamp/assets/images/census-join/census-join-21.png" alt="Spatial Data Carpentry: Census Join - field calculator" /></li>
    </ul>
  </li>
  <li>Locate <strong>TotalValue</strong> and confirm the calculation. NOTE: you should still have NULL values given that home-values.csv contains NULL values. Be sure to <em>Save edits</em> <img src="/bootcamp/assets/images/qgis/save-edits.png" alt="Spatial Data Carpentry: Census Join - save edits" /> and disable editing mode (Toggle editing mode) <img src="/bootcamp/assets/images/qgis/toggle-editing-mode.png" alt="Spatial Data Carpentry: Census Join - toggle editing mode" />. The editing options should now be grayed-out and disabled.<br />
<img src="/bootcamp/assets/images/census-join/census-join-22.png" alt="Spatial Data Carpentry: Census Join - TotalValue per tract" /></li>
  <li>You’ve successfully joined two sets of Census tabular data to a shapefile. </li>
  <li>Style tracts-values-units by categorizing by TotalValue and select a color ramp. QGIS will inform you that you have a high number of classes, click OK to confirm the categorization. We’ll need to remove NULL values. Locate NULL within the category table (HINT: it contains no values and is blank - look towards the bottom), highlight and click ‘Delete’ (not Delete all!) - ‘Delete’ removes only selected rows. Click Apply then OK to confirm changes. Deactivate census-tracts layer by unchecking it activate box in the layers list. Save your workspace. <br />
<img src="/bootcamp/assets/images/census-join/census-join-24.png" alt="Spatial Data Carpentry: Census Join - completed" /></li>
</ol>

<p><br /></p>

<hr />


          <!--
					<div class="meta">
						<p class="date-publish">
							Published: 
							<date class="date-pub" title="2002-01-01T00:00:00-07:00" datetime="2002-01-01T00:00:00-07:00" pubdate>
							<span class="month"><abbr>January</abbr></span>
							<span class="day">01</span>
							<span class="year">2002</span>
							</date>
						</p>
						<ul class="list-category list-linear">
							<li class="list-head">category: </li>
							
							


  
     
    	<li><a href="/categories.html#clean your data-ref">
    		clean your data <span>4</span>
    	</a></li>
    
  


						</ul>
						<ul class="list-tag list-linear">
							<li class="list-head">tags: </li>
							
							


  
     
    	<li><a href="/tags.html#applications-ref">applications <span>5</span></a></li>
     
    	<li><a href="/tags.html#qgis-ref">qgis <span>5</span></a></li>
     
    	<li><a href="/tags.html#quantumgis-ref">quantumgis <span>3</span></a></li>
    
  



						</ul>
					</div>
          meta -->


				</div><!-- entry-content -->
				<div class="misc-content">
					<div class="social">
						<ul class="list-linear">
							<li><div class="twitter-tweet"><a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="" data-lang="en">Tweet</a></div></li>
							<li><div class="twitter-follow"><a href="https://twitter.com/" class="twitter-follow-button" data-show-count="false" data-lang="en"></a></div></li>
						</ul>
					</div>
					
					
				</div><!-- misc-content -->
				
			</div><!-- bd -->
			<footer class="unit-foot">
				<div class="unit-inner unit-foot-inner">
					<nav class="pagination">
						<ul>
							
              <li class="prev"><a class="internal" rel="prev"  href="/bootcamp/clean%20your%20data/formatting" title="View Data Formatting">&laquo; Data Formatting</a></li>
							
							
							<li class="pipe"> | </li>
							
							
              <li class="next"><a class="internal" rel="next"  href="/bootcamp/get%20the%20data/overview" title="View Overview">Overview &raquo;</a></li>
							
						</ul>
					</nav>
					<p class="gotop">
						<a href="#page">Back to Top</a>
					</p>
				</div>
			</footer>

		</div><!-- content -->
	</div><!-- unit-inner -->
</article>


				</div>
			</div><!-- unit-inner -->
		</div><!-- unit-body -->
	</div><!-- body -->
	<footer class="the-footer">
		<div class="unit-foot">
			<div class="unit-inner unit-foot-inner">
				<div class="misc vcard">
					<h4>about</h4>
					<ul>
						<li class="contact"><address><span class="author fn n">Nathan Casler</span> - <span class="fn email">ncasler@email.arizona.edu</span></address></li>
            <li class="contact"><address><span class="author fn n">Daniel Guaderrama</span> - <span class="fn email">dguaderrama@email.arizona.edu</span></address></li>

            <!--						<li class="github"><a href="http://github.com//" rel="me">github.com/</a></li>
						<li class="twitter"><a href="http://twitter.com//" rel="me">twitter.com/</a></li>
            <li class="rss"><a href="http://feeds.feedburner.com/">Subscribe to RSS Feed</a></li>-->
					</ul>
				</div><!-- misc -->
				<p class="licence">
        <!--Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a>.-->
				</p>
			</div><!-- unit-foot-inner -->
		</div><!-- unit-foot -->
	</footer>
</div><!-- page -->
</div><!-- page-container -->
<script>
	(function(d, s) {
		var js, fjs = d.getElementsByTagName(s)[0], load = function(url, id) {
		if (d.getElementById(id)) {return;}
		js = d.createElement(s); js.src = url; js.id = id;
		fjs.parentNode.insertBefore(js, fjs);
		};
	load('//platform.twitter.com/widgets.js', 'tweetjs');
	// load('https://apis.google.com/js/plusone.js', 'gplus1js'); // Checkout http://j.mp/ApDgMr for usage html for this is <div class="g-plusone" data-size="medium"></div>
	// load('//connect.facebook.net/en_US/all.js#xfbml=1', 'fbjssdk'); // Checkout http://j.mp/wZw2xR for using open graph protorol html for this is <div class="fb-like" data-href="/clean%20your%20data/joining-census-data" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false" data-font="verdana"></div>
	}(document, 'script'));
</script>
<script>
/*! A fix for the iOS orientationchange zoom bug.Script by @scottjehl, rebound by @wilto. MIT License.*/
(function(j){var i=j.document;if(!i.querySelectorAll){return}var l=i.querySelectorAll("meta[name=viewport]")[0],a=l&&l.getAttribute("content"),h=a+", maximum-scale=1.0",d=a+", maximum-scale=10.0",g=true,c=j.orientation,k=0;if(!l){return}function f(){l.setAttribute("content",d);g=true}function b(){l.setAttribute("content",h);g=false}function e(m){c=Math.abs(j.orientation);k=Math.abs(m.gamma);if(k>8&&c===0){if(g){b()}}else{if(!g){f()}}}j.addEventListener("orientationchange",f,false);j.addEventListener("deviceorientation",e,false)})(this);
</script>

  
</body>
</html>


